import{r,j as e,k as o,n as b,u as v,w as y,x as C,I as m,B as A}from"./index-BsTs6fDy.js";import{u as L,L as u}from"./label-8VWZbY6L.js";import{u as F}from"./useMutation-CuwvWYf_.js";const x=r.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:o("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s}));x.displayName="Card";const p=r.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:o("flex flex-col space-y-1.5 p-6",t),...s}));p.displayName="CardHeader";const f=r.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:o("text-2xl font-semibold leading-none tracking-tight",t),...s}));f.displayName="CardTitle";const R=r.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:o("text-sm text-muted-foreground",t),...s}));R.displayName="CardDescription";const h=r.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:o("p-6 pt-0",t),...s}));h.displayName="CardContent";const q=r.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:o("flex items-center p-6 pt-0",t),...s}));q.displayName="CardFooter";const B=(t,s,a)=>b({url:"/Auth/login",method:"POST",headers:{"Content-Type":"application/json"},data:t,signal:a},s),D=t=>{const s=["postAuthLogin"],{mutation:a,request:d}={mutation:{mutationKey:s},request:void 0};return{mutationFn:n=>{const{data:l}=n??{};return B(l,d)},...a}},I=t=>{const s=D();return F(s)};function M({className:t,...s}){const a=L(),{handleSubmit:d,register:c}=a,n=v(),l=y(),{setIdentity:g}=C(),{mutate:j}=I(),N=w=>{j({data:{...w}},{onSuccess:({data:i})=>{g({isConnected:!0,token:i.token,email:i.email}),l("/admin")},onError:i=>{n==null||n.error(i.message)}})};return e.jsx("div",{className:o("flex flex-col gap-6",t),...s,children:e.jsxs(x,{children:[e.jsx(p,{children:e.jsx(f,{className:"text-2xl",children:"Authentification"})}),e.jsx(h,{children:e.jsx("form",{onSubmit:d(N),children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(u,{htmlFor:"email",children:"Email"}),e.jsx(m,{id:"email",type:"email",required:!0,...c("email"),placeholder:"casa-dana@email.com"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("div",{className:"flex items-center",children:e.jsx(u,{htmlFor:"password",children:"Mot de passe: "})}),e.jsx(m,{id:"password",type:"password",required:!0,...c("password"),placeholder:"********"})]}),e.jsx(A,{type:"submit",className:"w-full",children:"Login"})]})})})]})})}function O(){return e.jsx("div",{className:"flex justify-center items-center h-screen bg-cover bg-center",style:{backgroundImage:"url(https://images.unsplash.com/photo-1504019347908-b45f9b0b8dd5?q=80&w=2942&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D)"},children:e.jsx("div",{className:"w-96",children:e.jsx(M,{})})})}export{O as default};
